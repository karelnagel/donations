type Title @entity{
  id:ID!
  title:Contract!
}
type Contract @entity {
  id: ID! # title
  address: Bytes!
  contractURI: String
  projects: [Project!]! @derivedFrom(field: "contract")

  time: BigInt!
  owner: Account!
}

type Project @entity {
  id: ID! # title_p1
  count: BigInt!
  donated: BigInt!
  coin: Bytes!
  active: Boolean!
  contract: Contract!
  tokens: [Token!]! @derivedFrom(field: "project")

  owner: Account!
  time: BigInt!
}

type Token @entity {
  id: ID! # title_t1
  amount: BigInt!
  message: String!
  project: Project!
  tokenURI: String

  owner: Account!
  time: BigInt!
}

type Account @entity {
  id: ID! # address
  contracts: [Contract!]! @derivedFrom(field: "owner")
  projects: [Project!]! @derivedFrom(field: "owner")
  tokens: [Token!]! @derivedFrom(field: "owner")
}
